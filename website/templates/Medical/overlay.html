<div id="overlay" class="overlay">
    <div class="overlay-content">
        <span class="close" onclick="hideOverlay()">&times;</span>
        <div id="doctor-form">
            <h2 class="text-2xl font-bold mb-4">Select a Doctor</h2>
            <div class="space-y-4">
                <!-- Doctor List -->
                <div class="doctor-card flex items-center space-x-4 p-2 border rounded cursor-pointer" data-doctor="Dr. John Doe" onclick="selectDoctor(this)">
                    <div class="relative">
                        <img src="https://via.placeholder.com/50" alt="Dr. John Doe" class="rounded-full">
                        <span class="active-badge"></span>
                    </div>
                    <span>Dr. John Doe</span>
                </div>
                <div class="doctor-card flex items-center space-x-4 p-2 border rounded cursor-pointer" data-doctor="Dr. Jane Smith" onclick="selectDoctor(this)">
                    <div class="relative">
                        <img src="https://via.placeholder.com/50" alt="Dr. Jane Smith" class="rounded-full">
                        <span class="active-badge"></span>
                    </div>
                    <span>Dr. Jane Smith</span>
                </div>
                <div class="doctor-card flex items-center space-x-4 p-2 border rounded cursor-pointer" data-doctor="Dr. Emily Davis" onclick="selectDoctor(this)">
                    <div class="relative">
                        <img src="https://via.placeholder.com/50" alt="Dr. Emily Davis" class="rounded-full">
                        <span class="active-badge"></span>
                    </div>
                    <span>Dr. Emily Davis</span>
                </div>
                <div class="doctor-card flex items-center space-x-4 p-2 border rounded cursor-pointer" data-doctor="Dr. Michael Brown" onclick="selectDoctor(this)">
                    <div class="relative">
                        <img src="https://via.placeholder.com/50" alt="Dr. Michael Brown" class="rounded-full">
                        <span class="active-badge"></span>
                    </div>
                    <span>Dr. Michael Brown</span>
                </div>
            </div>
            <button onclick="showCalendar()" class="bg-blue-500 text-white p-2 mt-4 rounded hover:bg-blue-600">Next</button>
        </div>
    </div>
</div>

<script>
    const availableDoctor = "Dr. Michael Brown"; // Doctor in the database

    function showOverlay() {
        document.getElementById('overlay').style.display = 'flex';
        setTimeout(() => {
            document.getElementById('overlay').classList.add('active');
        }, 10);
    }

    function hideOverlay() {
        document.getElementById('overlay').classList.remove('active');
        setTimeout(() => {
            document.getElementById('overlay').style.display = 'none';
        }, 300);
    }

    function selectDoctor(element) {
        const doctorName = element.dataset.doctor;
        if (doctorName === availableDoctor) {
            window.location.href = '/chat'; // Redirect to the message platform
        } else {
            alert('Doctor unavailable');
        }
    }

    function showCalendar() {
        const selectedDoctor = document.querySelector('.doctor-card.selected');
        if (selectedDoctor) {
            document.getElementById('doctor-form').classList.add('hidden');
            document.getElementById('calendar').style.display = 'block';
        } else {
            alert('Please select a doctor.');
        }
    }
</script>
